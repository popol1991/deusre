<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Scientific Data Search</title>
    <link rel='stylesheet' href='/static/css/reset.css'>
    <link rel='stylesheet' href='/static/css/index.css'>
    <script src="/static/js/jquery.min.js"></script>
    <script>
        function toggle(id) {
            $("tbody#"+id).toggle();
        };
    </script>
</head>

<!-- Title and search box -->
<header class="jumbotron">
  <h1 class="title"><a>EAGER</a></h1>
  <div class="search-box-container">
    <form action="." method="get">
        <input type='text' name="q" class="search-box" placeholder="Keywords" value="{{ query }}" autofocus>
        <input type="submit" class="search-button" value="Search">
    </form>
  </div>
</header>

<!-- Listing of search results -->
<main class="federate-results-container">
  {% if hits != [] %}
  <h2 class="classification">This is a {{ qtype }} query.</h2>
  {% endif %}
  <section class='results'>
    {% for hit in hits %}
    <article class='result'>
      <!--<h2>{{ hit.id}}</h2>-->
      <h2>{{ hit.caption }}</h2>
      <h3>From: {{ hit['article-title']}}</h3>
      <br>
      <table>
          <thead>
            {% for row in hit.header_rows %}
              <tr>
                {% for header in row %}
                  <th>
                    {{ header }}
                  </th>
                {% endfor %}
              </tr>
            {% endfor %}
          </thead>
          <tbody id="{{ hit.id }}" style="display:none">
          {% if 'data_rows' in hit %}
              {% for row in hit.data_rows %}
              <tr>
                  {% if row %}
                    {% for value in row %}
                        <td>
                        {{ value }}
                        </td>
                    {% endfor %}
                  {% endif %}
              </tr>
              {% endfor %}
          {% endif %}
          </tbody>
      </table>
      <a class="toggle" onclick="toggle({{hit.id}})">Show/Hide table.</a>
    </article>
    {% endfor %}
  </section>
</main>

<!-- Load resources -->
<script src='js/calaca.js' type='static/text/javascript'></script>
</body>
</html>
